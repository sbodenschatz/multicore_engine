cmake_minimum_required (VERSION 2.6)
project(multicore_engine_core)
file(GLOB_RECURSE CORE_SRC "src/*.cpp")
MESSAGE(STATUS "VK: " $ENV{VULKAN_SDK})
add_library(multicore_engine_core STATIC ${CORE_SRC})
target_link_libraries(multicore_engine_core multicore_engine_parsers)
if(WIN32)
	target_link_libraries(multicore_engine_core debug tbb_debug)
	target_link_libraries(multicore_engine_core debug tbbmalloc_debug)
	target_link_libraries(multicore_engine_core optimized tbb)
	target_link_libraries(multicore_engine_core optimized tbbmalloc)
elseif(UNIX)
	target_link_libraries(multicore_engine_core tbb)
	target_link_libraries(multicore_engine_core tbbmalloc)
endif()
if(MSVC)
	set_target_properties(multicore_engine_core PROPERTIES LINK_FLAGS_RELEASE "/LTCG")
endif()
if(WIN32 AND NOT MSVC)
	target_link_libraries(multicore_engine_core ws2_32)
	target_link_libraries(multicore_engine_core mswsock)
	target_link_libraries(multicore_engine_core zstatic)
elseif(UNIX)
	target_link_libraries(multicore_engine_core z)
endif()
if(NOT MSVC)
	target_link_libraries(multicore_engine_core pthread)
	target_link_libraries(multicore_engine_core boost_program_options)
	target_link_libraries(multicore_engine_core boost_filesystem)
	target_link_libraries(multicore_engine_core boost_system)
	target_link_libraries(multicore_engine_core boost_thread)
endif()

